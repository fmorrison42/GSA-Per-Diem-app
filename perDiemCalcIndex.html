<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Per Diem Calculator</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="js/jquery-1.11.1.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <style>
    table, td, th {
      border: 2px solid;
      padding: 13px 10px;
    }
    #formTable {
      border-radius: 10px;
    }
    #perDiemApp {
        position: absolute;
        left: 50%;
        margin-right: -50%;
        transform: translate(-50%);
    }




    </style>

  </head>
  <body>
    <script type="text/javascript">
   
    </script>
  <div id="perDiemApp">
    <h2>Government Rate <br>Per Diem Calculator <br>Fiscal Year 2014</h2>
    <div id="form-control">
      <form>
      <table id="formTable">
        <tr> 
          <th>Zip Code: </th>         
          <td><input type="text" name="zipCode"><br></td>
        </tr>
        <tr> 
          <th>City:</th>              
          <td><input type="text" name="cityName"><br></td>
        </tr>
        <tr> 
          <th>State:</th>             
          <td><input type="dropdown" name="stateAbbr"><br></td>
        </tr>
        <tr> 
          <th>Trip Start Date:</th>   
          <td><input type="date" name="startDate"><br></td>
        </tr>
        <tr> 
          <th>Trip End Date: </th>    
          <td><input type="date" name="endDate"></td>
        </tr>
      </table>
      <input type="button" class="btn btn-primary btn-sm" value="Submit Per Diem Request">
      </form>
    </div>
  </div>

<script type="text/javascript">
  var apiURL = "https://inventory.data.gov/dataset/per-diem-reimbursement-rates/resource/996f733b-7f9c-4011-a1a0-9768f67c1623"
 
  var zipValue = $("zipCode").value;
  var cityValue = $("cityName").value;
  var stateAbbrValue = $("stateAbbr").value;
  var startDateValue = $("startDate").value;
  var endDateValue = $("endDate").value;

  $("startDate").
  alert(startDate);

/*
FiscalYear - four digit year
Zip - five digit string
State - two letter string
DestinationID - up to three digit integer
City - Text String
County - Text String
Oct - Sep - three letter string
Meals - string (two numbers representing whole dollars rated)


*/
  var requestInfoComplete = {
    Zip : zipValue,
    City : cityValue,
    State : stateAbbrValue


  };
  //parse the start and end dates into just the month, then convert them into the string format required for JSON.
// this needs to be based on what it entered.  Not requiring every piece of information.




  var gsaSubmitJSON = JSON.stringify()







// convert the two dates to strings matching the GSA date appearance


// choose either zipValue or cityValue + ", " + stateAbbrValue and send that to JSON


// create substring of start date to month only


// second substring for end date to month only


// take all months between the two (if there are any) and send each to GSA

// send all information to JSON format for SEND to GSA API


// retrieve JSON from API and format back into strings


// dynamic text areas for 'Daily Lodging Rate', 'Daily M&IE rate', 'Total Lodging Rate', and 'Total M&IE Rate'


// once I have this system working, then create the spreadshee/database for use in tracking expenses



</script>
  </body>
</html>
